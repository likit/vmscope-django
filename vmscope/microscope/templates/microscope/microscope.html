{% extends 'base.html' %}
{% load static %}

{% block head %}
<style>
    .noborder td, .noborder th {
        border: none !important;
    }
    body {
        background-color: black;
    }
</style>
{% endblock %}
{% block page_content %}
<section class="section" style="background-color: black">
    <div class="columns is-centered" style="background-color: black;"> <!-- instruction/information panel -->
        <div class="column is-3" style="background-color: black">
            <div class="panel is-info" style="background-color: white">
                <div class="panel-heading">
                    {{ scope.name }}
                </div>
                <div class="panel-block">
                    {{ scope.desc }}
                </div>
                <div class="panel-block">
                    <div class="buttons is-centered">
                        <a class="button is-success"
                           href="{% url 'parasite_report' scope.id record.id %}" id="finishLink">
                        <span class="icon">
                            <i class="far fa-check-circle"></i>
                        </span>
                            <span>Done</span>
                        </a>
                        <a class="button is-danger" href="{% url "session" pk=scope.session.pk %}">
                        <span class="icon">
                            <i class="fas fa-sign-out-alt"></i>
                        </span>
                        <span>Quit</span>
                        </a>
                    </div>
                </div>
            </div>
        </div>
        <div class="column is-9 has-text-centered"
             style="background-color: black; border: white;"> <!-- microscope -->
            <div class="columns is-centered">
                <div class="column">
                    <canvas width="700" height="650" id="canvas" style="background: black;"></canvas>
                </div>
            </div>
            <div class="columns is-centered">
                <div class="column is-narrow">
                    <div class="buttons is-centered">
                        <button class="button is-large is-dark">
                            <span class="icon">
                                <i class="fas fa-angle-up fa-2x has-text-info"
                                   data-bind="click: function(data, event) { moveEgg('up', 40); }"></i>
                            </span>
                        </button>
                        <button class="button is-large is-dark">
                            <span class="icon is-large">
                                <i class="fas fa-angle-left fa-2x has-text-info"
                                   data-bind="click: function(data, event) { moveEgg('left', 40); }"></i>
                            </span>
                        </button>
                        <button data-bind="click: zoom, visible: !isZoomed()" class="button is-large is-dark">
                            <span class="icon">
                                <i class="fas fa-sync-alt"></i>
                            </span>
                            <span>10x</span>
                        </button>
                        <button data-bind="click: zoom, visible: isZoomed()" class="button is-large is-dark">
                            <span class="icon">
                                <i class="fas fa-sync-alt"></i>
                            </span>
                            <span>40x</span>
                        </button>
                        <button class="button is-large is-dark">
                            <span class="icon is-large">
                                <i class="fas fa-angle-right fa-2x has-text-info"
                                   data-bind="click: function(data, event) { moveEgg('right', 40); }"></i>
                            </span>
                        </button>
                        <button class="button is-large is-dark">
                            <span class="icon is-large">
                                <i class="fas fa-angle-down fa-2x has-text-info"
                                   data-bind="click: function(data, event) { moveEgg('down', 40); }"></i>
                            </span>
                        </button>
                        <button class="button is-large is-dark">
                            <span class="icon is-large">
                                <i class="fas fa-map-marker-alt has-text-info"
                                   data-bind="click: function() { toggleHint(); }"></i>
                            </span>
                        </button>
                    </div>
                </div>
            </div>
            <div class="columns is-centered">
                <div class="is-narrow">
                    <div class="box">
                        <p>
                            For a notebook or a desktop computer, use arrow keys to navigate and press
                            <span class="tag is-info is-large">Z</span> to zoom in and out.
                        </p>
                        <p>
                            Click
                            <button class="button is-dark">
                                <span class="icon is-large">
                                    <i class="fas fa-map-marker-alt has-text-info"></i>
                                </span>
                            </button>
                            to turn on/off a hint.
                        </p>
                    </div>
                </div>
            </div>
        </div>
    </div>
</section>
{% endblock %}
{% block scripts %}
<script type="text/javascript" src="{% static 'js/vendors/jquery.min.js' %}"></script>
<script type="text/javascript" src="{% static 'js/vendors/jquery.loading.min.js' %}"></script>
<script type="text/javascript" src="{% static 'js/vendors/knockout.js' %}"></script>
<script type="text/javascript" src="{% static 'js/vendors/createjs.min.js' %}"></script>
<script type="text/javascript">
    var scopeId = {{scope.pk}};
    $('body').loading({
            stoppable: true,
            message: "Preparing the microscope, please be patient..."
        });
</script>
<script type="text/javascript" src="{% static 'js/display.js' %}"></script>
{% endblock %}

